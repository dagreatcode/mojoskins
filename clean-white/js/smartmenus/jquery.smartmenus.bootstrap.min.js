!function(e){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return e.extend(e.SmartMenus.Bootstrap={},{keydownFix:!1,init:function(){var t=e("ul.navbar-nav:not([data-sm-skip])");t.each(function(){function t(){n.find("a.current").parent().addClass("active"),n.find("a.has-submenu").each(function(){var t=e(this);t.is('[data-toggle="dropdown"]')&&t.dataSM("bs-data-toggle-dropdown",!0).removeAttr("data-toggle"),t.is('[role="button"]')&&t.dataSM("bs-role-button",!0).removeAttr("role")})}function o(){n.find("a.current").parent().removeClass("active"),n.find("a.has-submenu").each(function(){var t=e(this);t.dataSM("bs-data-toggle-dropdown")&&t.attr("data-toggle","dropdown").removeDataSM("bs-data-toggle-dropdown"),t.dataSM("bs-role-button")&&t.attr("role","button").removeDataSM("bs-role-button")})}function a(e){var t=r.getViewportWidth();if(t!=s||e){var o=n.find(".caret");r.isCollapsible()?(n.addClass("sm-collapsible"),n.is("[data-sm-skip-collapsible-behavior]")||o.addClass("navbar-toggle sub-arrow")):(n.removeClass("sm-collapsible"),n.is("[data-sm-skip-collapsible-behavior]")||o.removeClass("navbar-toggle sub-arrow")),s=t}}var n=e(this),r=n.data("smartmenus");if(!r){n.smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-6,subIndicators:!1,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:n.hasClass("navbar-right"),bottomToTopSubMenus:n.closest(".navbar").hasClass("navbar-fixed-bottom")}).bind({"show.smapi":function(t,o){var a=e(o),n=a.dataSM("scroll-arrows");n&&n.css("background-color",e(document.body).css("background-color")),a.parent().addClass("open")},"hide.smapi":function(t,o){e(o).parent().removeClass("open")}}),t(),r=n.data("smartmenus"),r.isCollapsible=function(){return!/^(left|right)$/.test(this.$firstLink.parent().css("float"))},r.refresh=function(){e.SmartMenus.prototype.refresh.call(this),t(),a(!0)},r.destroy=function(t){o(),e.SmartMenus.prototype.destroy.call(this,t)},n.is("[data-sm-skip-collapsible-behavior]")&&n.bind({"click.smapi":function(t,o){if(r.isCollapsible()){var a=e(o),n=a.parent().dataSM("sub");if(n&&n.dataSM("shown-before")&&n.is(":visible"))return r.itemActivate(a),r.menuHide(n),!1}}});var s;a(),e(window).bind("resize.smartmenus"+r.rootId,a)}}),t.length&&!e.SmartMenus.Bootstrap.keydownFix&&(e(document).off("keydown.bs.dropdown.data-api",".dropdown-menu"),e.fn.dropdown&&e.fn.dropdown.Constructor&&e(document).on("keydown.bs.dropdown.data-api",'.dropdown-menu:not([id^="sm-"])',e.fn.dropdown.Constructor.prototype.keydown),e.SmartMenus.Bootstrap.keydownFix=!0)}}),e(e.SmartMenus.Bootstrap.init),e});